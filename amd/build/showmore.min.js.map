{"version":3,"file":"showmore.min.js","sources":["../src/showmore.js"],"sourcesContent":["/*\n * This file is part of the QuestionPy Moodle plugin - https://questionpy.org\n *\n * Moodle is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Moodle is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * @module qtype_questionpy/showmore\n */\n\nimport $ from \"jquery\";\n\n\n/**\n * Return `true` if the element is overflowing.\n *\n * @param {jQuery} element\n * @returns {boolean}\n */\nconst isOverflowing = (element) => {\n    return element[0].scrollHeight > element.height();\n};\n\n\n/**\n * Initializes the dynamic description box.\n *\n * @param {string} id\n */\nexport const init = (id) => {\n    const element = $(`#${id}`);\n\n    const container = element.find(\"div\");\n    const button = element.find(\"button\");\n\n    window.addEventListener(\"resize\", () => {\n        button.toggleClass(\"d-none\", !isOverflowing(container));\n    });\n\n    button.toggleClass(\"d-none\", !isOverflowing(container));\n\n    const showLessButton = element.find(\".qpy-show-less-btn\");\n    const showMoreButton = element.find(\".qpy-show-more-btn\");\n\n    element.on(\"show.bs.collapse\", () => {\n        showLessButton.toggleClass(\"d-none\", false);\n        showMoreButton.toggleClass(\"d-none\", true);\n    });\n    element.on(\"hide.bs.collapse\", () => {\n        showLessButton.toggleClass(\"d-none\", true);\n        showMoreButton.toggleClass(\"d-none\", false);\n    });\n};\n"],"names":["isOverflowing","element","scrollHeight","height","id","container","find","button","window","addEventListener","toggleClass","showLessButton","showMoreButton","on"],"mappings":"uOA8BMA,cAAiBC,SACZA,QAAQ,GAAGC,aAAeD,QAAQE,uBASxBC,WACXH,SAAU,8BAAMG,KAEhBC,UAAYJ,QAAQK,KAAK,OACzBC,OAASN,QAAQK,KAAK,UAE5BE,OAAOC,iBAAiB,UAAU,KAC9BF,OAAOG,YAAY,UAAWV,cAAcK,eAGhDE,OAAOG,YAAY,UAAWV,cAAcK,kBAEtCM,eAAiBV,QAAQK,KAAK,sBAC9BM,eAAiBX,QAAQK,KAAK,sBAEpCL,QAAQY,GAAG,oBAAoB,KAC3BF,eAAeD,YAAY,UAAU,GACrCE,eAAeF,YAAY,UAAU,MAEzCT,QAAQY,GAAG,oBAAoB,KAC3BF,eAAeD,YAAY,UAAU,GACrCE,eAAeF,YAAY,UAAU"}
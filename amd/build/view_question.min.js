define("qtype_questionpy/view_question",["exports","jquery","theme_boost/bootstrap/popover"],(function(_exports,_jquery,_popover){var obj;function getLabelFor(input){const id=input.id;if(""!==id){const label=document.querySelector("label[for='".concat(id,"']"));if(label)return label}const label=input.closest("label");return label||null}async function checkConstraints(element){try{"qpy_required"in element.dataset&&element.setAttribute("required","required");for(const attr of["pattern","minlength","maxlength","min","max"])"qpy_".concat(attr)in element.dataset&&element.setAttribute(attr,element.dataset["qpy_".concat(attr)]);element.checkValidity()?function(element){element.classList.remove("is-invalid"),element.removeAttribute("aria-invalid"),(0,_jquery.default)([element,getLabelFor(element)]).popover("dispose")}(element):function(element,message){let ariaInvalid=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];element.classList.add("is-invalid"),ariaInvalid?element.setAttribute("aria-invalid","true"):element.removeAttribute("aria-invalid");let popoverTarget=element;if("checkbox"===element.type||"radio"===element.type){const label=getLabelFor(element);popoverTarget=label?label.contains(element)?label:[element,label]:element}(0,_jquery.default)(popoverTarget).popover({toggle:"popover",trigger:"hover",content:message})}(element,element.validationMessage,!element.validity.valueMissing)}finally{for(const attr of["required","pattern","minlength","maxlength","min","max"])element.removeAttribute(attr)}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=async function(){for(const element of document.querySelectorAll("\n        [data-qpy_required], [data-qpy_pattern], \n        [data-qpy_minlength], [data-qpy_maxlength], \n        [data-qpy_min], [data-qpy_max]\n    "))await checkConstraints(element),element.addEventListener("change",(event=>checkConstraints(event.target)))},_jquery=(obj=_jquery)&&obj.__esModule?obj:{default:obj}}));

//# sourceMappingURL=view_question.min.js.map
define("qtype_questionpy/package_search/components/pagination",["exports","qtype_questionpy/package_search/component"],(function(_exports,_component){var obj;Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_component=(obj=_component)&&obj.__esModule?obj:{default:obj};class _default extends _component.default{getWatchers(){return[{watch:"".concat(this.category,".data:updated"),handler:this.updateCurrentPage}]}create(descriptor){this.category=descriptor.category,this.selectors={PREVIOUS_BUTTON:'[data-for="pagination-previous"]',NEXT_BUTTON:'[data-for="pagination-next"]',CURRENT:'[data-for="pagination-current"]'}}stateReady(){this.addEventListener(this.getElement(this.selectors.PREVIOUS_BUTTON),"click",this.previousPage),this.addEventListener(this.getElement(this.selectors.NEXT_BUTTON),"click",this.nextPage)}_getCurrentPage(){return this.getState()[this.category].page}_getLastPage(){const state=this.getState()[this.category];return 0===state.data.total?0:Math.floor((state.data.total-1)/this.reactive.options.limit)}updateCurrentPage(){const currentPage=this._getCurrentPage(),lastPage=this._getLastPage();this.getElement(this.selectors.CURRENT).innerHTML="".concat(currentPage+1," / ").concat(lastPage+1),this.getElement(this.selectors.PREVIOUS_BUTTON).classList.toggle("disabled",0===currentPage),this.getElement(this.selectors.NEXT_BUTTON).classList.toggle("disabled",currentPage===lastPage)}previousPage(){const currentPage=this._getCurrentPage();currentPage>0&&this.reactive.dispatch("changePage",this.category,currentPage-1)}nextPage(){const currentPage=this._getCurrentPage();currentPage<this._getLastPage()&&this.reactive.dispatch("changePage",this.category,currentPage+1)}}return _exports.default=_default,_exports.default}));

//# sourceMappingURL=pagination.min.js.map
{"version":3,"file":"area.min.js","sources":["../../../src/package_search/components/area.js"],"sourcesContent":["/*\n * This file is part of the QuestionPy Moodle plugin - https://questionpy.org\n *\n * Moodle is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Moodle is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * @module qtype_questionpy/package_search/components/area\n */\n\nimport Component from 'qtype_questionpy/package_search/component';\nimport Container from 'qtype_questionpy/package_search/components/container';\nimport SearchBar from 'qtype_questionpy/package_search/components/search_bar';\n\nexport default class extends Component {\n    getWatchers() {\n        return [\n            {watch: `general.loading:updated`, handler: this.updateStatus},\n        ];\n    }\n\n    create(descriptor) {\n        // Register search bar.\n        // TODO: register component inside mustache template.\n        new SearchBar({\n            element: this.getElement('[data-for=\"search-bar-container\"'),\n            name: \"search_bar\",\n            reactive: descriptor.reactive,\n        });\n        // Register package container.\n        // TODO: register component inside mustache template.\n        new Container({\n            element: this.getElement('[data-for=\"package-container\"'),\n            name: \"container\",\n            reactive: descriptor.reactive,\n        });\n    }\n\n    stateReady() {\n        // Initial loading of the packages.\n        this.reactive.dispatch(\"searchPackages\");\n    }\n\n    /**\n     * Adds or removes the `qpy-loading` class from the search area.\n     */\n    updateStatus() {\n        const loading = this.getState().general.loading;\n        this.element.classList.toggle(\"qpy-loading\", loading);\n    }\n}\n"],"names":["Component","getWatchers","watch","handler","this","updateStatus","create","descriptor","SearchBar","element","getElement","name","reactive","Container","stateReady","dispatch","loading","getState","general","classList","toggle"],"mappings":"2lBAyB6BA,mBACzBC,oBACW,CACH,CAACC,gCAAkCC,QAASC,KAAKC,eAIzDC,OAAOC,gBAGCC,oBAAU,CACVC,QAASL,KAAKM,WAAW,oCACzBC,KAAM,aACNC,SAAUL,WAAWK,eAIrBC,mBAAU,CACVJ,QAASL,KAAKM,WAAW,iCACzBC,KAAM,YACNC,SAAUL,WAAWK,WAI7BE,kBAESF,SAASG,SAAS,kBAM3BV,qBACUW,QAAUZ,KAAKa,WAAWC,QAAQF,aACnCP,QAAQU,UAAUC,OAAO,cAAeJ"}